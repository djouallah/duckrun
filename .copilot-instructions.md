# Copilot Instructions for duckrun Project

## General Rules
- Keep all tests in the single `basic.py` file - DO NOT create new test files
- Always use real authentication for testing, don't skip it
- When fixing code, read the README.md first to understand documented behavior
- Use the virtual environment (.venv) when running tests

## Project Context
- This is a lakehouse task runner for Microsoft Fabric
- Pipeline behavior: Python tasks returning 0 should stop pipeline execution
- SQL tasks only stop on exceptions, not return values
- Return code behavior is documented in README.md

## Code Standards
- Follow the existing code style in the project
- Include comprehensive error handling
- Add clear logging/print statements for debugging
- Test both success and failure scenarios

## Testing Requirements  
- All tests must be in `tests/basic.py`
- Include both quick logic tests and full integration tests
- Test with real Azure authentication 
- Verify return code behavior matches documentation

## When Making Changes
1. Check existing documentation first
2. Update tests in the single basic.py file
3. Maintain backward compatibility
4. Test with real authentication, not mocks